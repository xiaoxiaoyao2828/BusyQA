<div class="container-sm">
  <div class="col-md-12"></div>
  <div class="card card-container col-md-4">
    <img
      id="BusyQA-icon"
      src="../../assets/img/busyqa-icon.jpg"
      class="img-fluid rounded mx-auto d-block"
    />
  </div>

  <form [formGroup]="form" #f *ngIf="!isSuccessful">
    <div class="form-group">
      <label for="" class="col-form-label">Username</label>
      <input type="text" formControlName="username" class="form-control" />
      <small *ngIf="username.invalid && username.touched" class="text-danger">
        username is required and cannot allowed space</small
      >
    </div>

    <div class="form-group">
      <label for="" class="col-form-label">Password</label>
      <input type="password" formControlName="password" class="form-control" />
      <small
        *ngIf="password.errors?.required && password.touched"
        class="text-danger"
      >
        password is required</small
      >
      <small
        *ngIf="password.invalid && password.errors?.minlength"
        class="text-danger"
      >
        password should longer than 10 digits</small
      >
    </div>

    <div class="form-group">
      <label for="" class="col-form-label">Confirm Password</label>
      <input
        type="password"
        formControlName="confirmPassword"
        class="form-control"
        appConfirmEqualValidator="password"
      />
      <small
        *ngIf="confirmPassword.errors?.required && confirmPassword.touched"
        class="text-danger"
      >
        confirm password is required</small
      >
      <small
        *ngIf="confirmPassword.invalid && confirmPassword.errors?.minlength"
        class="text-danger"
      >
        confirm password should longer than 10 digits</small
      >

      <small
        *ngIf="confirmPassword.invalid && confirmPassword.errors?.notEqual"
        class="text-danger"
      >
        confirm password not matched</small
      >
    </div>


    <div class="form-row">
    <div class="form-group col-md-6">
      <label for="" class="col-form-label">First Name</label>
      <input type="text" formControlName="firstname" class="form-control" />
      <small *ngIf="firstname.invalid && firstname.touched" class="text-danger">
        First Name is required</small
      >
    </div>

    <div class="form-group col-md-6">
      <label for="" class="col-form-label">Last Name</label>
      <input type="text" formControlName="lastname" class="form-control" />
      <small *ngIf="lastname.invalid && lastname.touched" class="text-danger">
        Last Name is required</small
      >
    </div>
    </div>

    <div class="form-group">
      <label for="" class="col-form-label">Email</label>
      <input type="email" formControlName="email" class="form-control" />

      <small *ngIf="email.invalid && email.touched" class="text-danger">
        must provide a email with format : example@gmail.com</small
      >
    </div>

    <div class="form-group">
      <label for="" class="col-form-label">Phone Number</label>
      <input type="text" formControlName="phone" class="form-control" />

      <small *ngIf="phone.invalid && phone.touched" class="text-danger">
        must provide a phone number over 10 digits</small
      >
    </div>

    <div class="form-group">
      <label for="" class="col-form-label">Roles</label>
      <div class="form-check">
        <input
          class="form-check-input"
          type="checkbox"
          value="User"
          id="userCheck"
          (change)="onChange($event)"
        />
        <label class="form-check-label" for="userCheck"> User </label>
        <br />
        <input
          class="form-check-input"
          type="checkbox"
          value="Manager"
          id="managerCheck"
          (change)="onChange($event)"
        />
        <label class="form-check-label" for="managerCheck"> Manager </label>
        <br />
        <input
          class="form-check-input"
          type="checkbox"
          value="Admin"
          id="adminCheck"
          (change)="onChange($event)"
        />
        <label class="form-check-label" for="adminCheck"> Admin </label>
      </div>
    </div>

    <button
      (click)="onSubmit()"
      [disabled]="form.invalid"
      type="button"
      class="btn btn-primary"
    >
      Register
    </button>

    <div class="alert alert-warning" *ngIf="f.submitted && isSignupFailed">
      Signup failed!<br />{{ errorMessage }}
    </div>
  </form>

  <div class="alert alert-success" *ngIf="isSuccessful">
    Your registration is successful!
  </div>
</div>